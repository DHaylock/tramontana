
<html>
	<head>
	<title>Example Tramontana GAME</title>
	<!--=============================-->
	<!-- Copy this part to your app. -->
	<!-- START                       -->
	<!--=============================-->
	<!-- libs -->
	 <script src="http://www.pierdr.com/lib/box2d/prototype.js"></script>
	 <script src="https://rawgit.com/processing-js/processing-js/v1.4.8/processing.min.js" type="text/javascript"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js" type="text/javascript"></script>
	<!-- box2djs -->
	<script src='http://www.pierdr.com/lib/box2d/b2Settings.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2Vec2.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2Mat22.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2Math.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2AABB.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2Bound.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2BoundValues.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2Pair.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2PairCallback.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2BufferedPair.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2PairManager.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2BroadPhase.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2Collision.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/Features.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2ContactID.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2ContactPoint.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2Distance.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2Manifold.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2OBB.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2Proxy.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/ClipVertex.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2Shape.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2ShapeDef.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2BoxDef.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2CircleDef.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2CircleShape.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2MassData.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2PolyDef.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2PolyShape.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2Body.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2BodyDef.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2CollisionFilter.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2Island.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2TimeStep.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2ContactNode.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2Contact.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2ContactConstraint.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2ContactConstraintPoint.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2ContactRegister.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2ContactSolver.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2CircleContact.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2Conservative.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2NullContact.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2PolyAndCircleContact.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2PolyContact.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2ContactManager.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2World.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2WorldListener.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2JointNode.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2Joint.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2JointDef.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2DistanceJoint.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2DistanceJointDef.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2Jacobian.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2GearJoint.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2GearJointDef.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2MouseJoint.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2MouseJointDef.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2PrismaticJoint.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2PrismaticJointDef.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2PulleyJoint.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2PulleyJointDef.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2RevoluteJoint.js'></script>
	<script src='http://www.pierdr.com/lib/box2d/b2RevoluteJointDef.js'></script>
	<!--=============================-->
	<!--  -->
	<!-- END                         -->
	<!--=============================-->

	<!-- import tramontana -->
		<script src="https://rawgit.com/pierdr/tramontana/master/lib/bft_min.js"></script>
		
	<!-- create a global variable-->
		<script>
			var iphone=new BFtObject();
			var orientations=["","Portrait","PortraitUpsideDown","LandscapeLeft","LandscapeRight","FacingUp","FacingDown"];
			
		</script>
	</head>
	<body style="padding:0px;margin:0px;">
		<canvas id="canvas" style="border:1px solid #555;position: absolute;
		left: 50%;
		margin-left:-300px;
		top:50%;
		margin-top: -300px; width:600px;height:600px;" id="canvas"></canvas>

		<!--Link to tramontana the app!-->
		<div style="position:absolute;left: 50%;margin-left:-300px;top:50%;margin-top: -300px; width:600px;height:600px;padding: 30px;background-color: #eee" id="startPanel">
		<h4>To get started download the Tramontana App on your iOS device:</h4>
		
		<a href="https://itunes.apple.com/us/app/tramontana/id1121069555?mt=8"><img src="https://darksky.net/app/images/appleAppStoreBadgeBig.png" alt="" width="150px"></a><br/><br/>
		
		<!-- OPEN SOCKET -->
		<label>Open the app and input the IPAddress</label>
		<input type="text" id="ipInput" placeholder="192.168.1.1">
		<div style="font-size:12px">Your computer and iOS device need to be on the same local network.</div>
		<!-- Note: check that your phone is not orientation locked.-->
		<button style="font-size:20px" onclick="iphone.start(
			
			$j('#ipInput').val(),function(e){

			iphone.showImage('http://www.pierdr.com/img/demo1.jpg');
			window.setTimeout(function(){
				iphone.showImage('http://www.pierdr.com/img/demo2.jpg');
				window.setTimeout(function(){
					iphone.showImage('http://www.pierdr.com/img/demo3.jpg');
						iphone.subscribeTouch(function(ip,e){
								state=CALIBRATE;	
							});
					window.setTimeout(function(){
						iphone.showImage('http://www.pierdr.com/img/demo4.jpg');
						iphone.subscribeAttitude(15, function(ip,e){
								if(state==CALIBRATE)
								{
									zeroAttitude=e;
									state=PLAY;
								}	
								else
								{
									currentAttitude=e;
								}
							});
						window.setTimeout(function(){
							iphone.transitionColors({'r':0.2,'g':0.5,'b':0.4,'a':128}, {'r':0.4,'g':0.9,'b':0.7,'a':128}, 5);
							state=PLAY;
							var processingInstance = Processing.getInstanceById('canvas');
							for(var i=0;i<10;i++)
							{
								processingInstance.addCell();
							}

						},900);
					},900);
				},900);
			},900);
			
			$j('#startPanel').hide();
			})">start</button><br/>

		
		</div>
		<script src="example-game.js" type="text/javascript"></script>

	</body>

</html>